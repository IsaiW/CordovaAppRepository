<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" href="css/style.css"> <!--bootstrap-->
 <title>Document</title>
</head>
<body>
 
 <style>
  #item-Img {
          background-color: rgb(176, 172, 172);
          height: 12.5rem;
          cursor: pointer;
}         

.add-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: rgb(10, 10, 126);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }
</style>


<!-- boton flotante -->
<button class="add-btn" data-bs-toggle="modal" data-bs-target="#addItemModal">+</button> <!-- Agregar icon -->

<!-- Modal -->
<div class="modal fade" id="addItemModal" tabindex="-1" aria-labelledby="addItemModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addItemModalLabel">Add New</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <button class="btn btn-danger w-100 my-2" onclick="addItem()">Add Item</button>
                <button class="btn btn-danger w-100 my-2" onclick="addFolder()">Add Folder</button>
            </div>
        </div>
    </div>
</div>

<!-- Botón que abre el modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#crearItemModal">
Crear nuevo ítem
</button>

<!-- Modal -->
<div class="modal fade" id="crearItemModal" tabindex="-1" aria-labelledby="crearItemModalLabel" aria-hidden="true">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="" id="">Crear nuevo ítem</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
    </div>
    <div class="modal-body">

      <!-- Formulario dentro del modal -->
      
      <form>
      <!-- Peticion de imagen -->
        <div class="text-center mb-3 d-flex justify-content-center">
          <div id="item-Img" class="bg-cover d-flex align-items-center justify-content-center text-muted w-100"
              onclick="document.getElementById('fileInput').click()">
              <img class="" src="img/icons/anadir-imagen.svg" alt="search" width="50" height="50">
          </div>
          <input type="file" id="fileInput" class="d-none img-fluid" accept=".png, .jpg, .jpeg" onchange="previewImage(event)">
        </div>
      
        <div class="mb-3">
          <!-- <label for="nombreItem" class="form-label">Nombre del ítem</label> -->
          <input type="text" class="form-control form-control-lg" id="nombreItem" placeholder = "Agregar nombre del ítem" required>
        </div>
        <div class="mb-3">
          <!-- <label for="nombreItem" class="form-label">Nombre del ítem</label> -->
          <input type="text" style="height: 3.2rem;" class="form-control form-control-sm w-25" id="nombreItem" placeholder = "Cantidad" required>
        </div>
        <div class="mb-3">
          <textarea class="form-control form-control-sm" id="notesItem" rows="3"  placeholder = "Agregar nota" required></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-100">Generar QR</button>
      </form>
    </div>
  </div>
</div>
</div>



<script>
function previewImage(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
            const container = document.getElementById('item-Img');
            container.style.backgroundImage = `url(${e.target.result})`;
            container.style.backgroundSize = "cover";
            container.style.backgroundPosition = "center";
            container.innerHTML = ""; // Quita el ícono
        };
        reader.readAsDataURL(file);
    }
}

</script>


<script src="public/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script> <!--bootstrap js-->
<script src="cordova.js"></script>
</body>
</html>